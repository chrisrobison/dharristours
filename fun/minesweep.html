
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd">
<html>
	<head>
		<title>JS1k, 1k demo submission [971]</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<link rel="icon" type="image/vnd.microsoft.icon" href="http://js1k.com/favicon.png">
		<link rel="icon" type="image/png" href="http://js1k.com/favicon.png">
		<link rel="shortcut icon" href="http://js1k.com/favicon.png" />
		<script>
		setTimeout(function(){
			var ga = document.createElement('script');
			ga.async = true;
			ga.defer = true;
			ga.src = 'http://www.google-analytics.com/ga.js';
			ga.onload = function(){try{_gat._getTracker('UA-19882353-1')._trackPageview();}catch(e){window.console&&console.log("ga fail :'( ");};};
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(ga, s);
		}, 10);
		</script>
	</head>
	<!-- what? frames? yes. frames. required to keep all demo's working after adding a top menu to them -->
	<frameset onload="document.getElementsByTagName('frame')[1].contentWindow.focus();" rows="0px,*">
		<!-- the inline html src allows me to make this page a single resource :) sure js is required, but come on, dont forget why you're here! -->
		<frame marginwidth="0" marginheight="0" frameborder="0" noresize="no" src="javascript:'&lt;!doctype html&gt;\n&lt;html&gt;\n\t&lt;head&gt;\n\t\t&lt;meta charset=&quot;utf-8&quot; /&gt;\n\t\t&lt;style&gt;\n\t\t\thtml, body { width: 100%25; height: 100%25; margin: 0; padding: 0; border: 0; }\n\t\t\tdiv { margin: 0; padding: 0; border: 0; }\n\t\t\t.nav { \n\t\t\t\tposition: absolute; \n\t\t\t\ttop: 0; \n\t\t\t\tleft: 0; \n\t\t\t\twidth: 100%25; \n\t\t\t\theight: 27px; \n\t\t\t\tbackground-color: white; \n\t\t\t\tcolor: black; \n\t\t\t\ttext-align: center; \n\t\t\t\tline-height: 25px;\n\t\t\t}\n\n\t\t\ta { color: black; text-decoration: none; border-bottom: 1px dashed black; }\n\t\t\ta:hover { border-bottom: 1px solid red; }\n\n\t\t\t.previous { float: left; margin-left: 10px; }\n\t\t\t.next { float: right; margin-right: 10px; }\n\t\t\t\n\t\t\t.green { color: green; }\n\t\t\t.red { color: red; }\n\n\t\t\ttextarea { width: 100%25; height: 100%25; border: 0; padding: 0; margin: 0; padding-bottom: 20px; }\n\t\t\t.block-outer { float: left; width: 22%25; height: 100%25; padding: 5px; border-left: 1px solid black; margin: 30px 3px 3px 3px; }\n\t\t\t.block-inner { height: 68%25; }\n\t\t\t.one { border: 0; }\n\t\t&lt;/style&gt;\n\t&lt;/head&gt;\n\t&lt;body&gt;\n\t\t&lt;div class=&quot;nav&quot;&gt;\n\t\t\t&lt;span class=&quot;previous&quot;&gt;&lt;a href=&quot;../demo/969&quot; target=&quot;_top&quot;&gt;Previous&lt;/a&gt;&lt;/span&gt; \n\t\t\t&lt;a href=&quot;/&quot; target=&quot;_top&quot;&gt;%23js1k&lt;/a&gt; \n\t\t\tdemo submission\n\t\t\tby Tim Down, \n\t\t\t1022 bytes \n\t\t\t- &lt;a href=&quot;javascript:toggle();&quot;&gt;view source and description&lt;/a&gt;\n\t\t\t- back to &lt;a href=&quot;../demos&quot; target=&quot;_top&quot;&gt;list of demos&lt;/a&gt;\n\t\t\t &lt;span class=&quot;next&quot;&gt;&lt;a href=&quot;../demo/972&quot; target=&quot;_top&quot;&gt;Next&lt;/a&gt;&lt;/span&gt;\n\t\t&lt;/div&gt;\n\t\t&lt;div class=&quot;block-outer one&quot;&gt;\n\t\t\t&lt;b&gt;Name:&lt;/b&gt; Tim Down&lt;br /&gt;\n\n\n\t\t\t&lt;b&gt;Bytes:&lt;/b&gt; 1022&lt;br /&gt;\n\t\t\t&lt;b&gt;Chars:&lt;/b&gt; 1020&lt;br /&gt;\n\t\t&lt;/div&gt;\n\t\t&lt;div class=&quot;block-outer&quot;&gt;\n\t\t\t&lt;b&gt;Source:&lt;/b&gt;\n\t\t\t&lt;div class=&quot;block-inner&quot;&gt;\n\t\t\t\t&lt;textarea&gt;d=\'@75\u001f\u001e\u001d\u001c\u001b\u001a\u0019\u0018\u0017\u0016\u0015\u0014\u0013\u0012\u0011\u0010\u000f\u000e\u0008\u0007\u0006\u0005\u0004\u0003\u0002\u0001vZUQPLJIHA\',e=\'0F\u000f&amp;quot;0\u007f\u0006&amp;lt;1;)\u007f):\u007fIa\u007f!\u0003\u007fU,\u007f*f\u007f;\u0005\u007falert(\u007fZxQ;y=\u007f&amp;quot;%23\u007f),\u007f);\u007f[j\u007fk=\u007f=Iclient\u007fnew Date\u007fAPStyle=\u007fif(\u007f&amp;quot;,\u007f=1\u007fd.\u007f]=\u007f++\u007fH;\u007f,I\u007fk.\u007f)}\u007f[iJ\u007f=[]\u007ffor(\u007f(k\u007f=0\u007fa.fill\u007f&amp;amp;&amp;amp;\u007f++];)\u007fo.\u007ffor(i=0\u007f=function(o,p,q){\'.split(\'\u007f\'),f=\'r=s=9,n=r*s,bv,zv\u001bi&amp;lt;n;\u0006i)jQ|i/r,\u0014i%25r,l=z\u0015\u0007z\u0015]||[],b[i\u0007l[k\u0007{r:j,c:k,a:0}\u001bd=b\u0001{jQ,\u0008nv;Zy=-2;y7Zx=-2;x7t=\u0008r+y,u=\u0008c+x,t&amp;gt;QLu&amp;gt;QLt&amp;lt;rLu&amp;lt;sL(o=z[t][u])!=dL(\u0008n\u0015\u0006\u0007o\u0002m\u000e0,h=b.slice(0\u0016H,j=n;i&amp;lt;m;\u0006i){lQ|j--*Math.random(\u0017U=h[l]).m\u000e,h[l\u0007h\u0015],h\u0015\u0007k;\u0019\u0003n[xJy.a\u0006}f=40,g=39,c.width=c.height=360,G=\u0018BBB\u000fa.font=&amp;quot;bold 30px Monospace\u000fC\u0011p,PRect(Ic\u001c\u0004r\u001c,g,g\u0002,W\u0011q,PText(p\u0004c\u001c+12\u0004r\u001c+28,f\u0002\u001b\u0014b\u0001C\u001dG\u0016dv,OQ,VAW\u001d&amp;quot;\u2691\u000f\u0018900&amp;quot;\u0002,EAjv\u001b\u0014b\u0001{\u0010\u001emL\u001es)return;\u0003mL\u001efLj.pushU\u0002\u0005\u0014j\u0001V(\u0016\u001a(0|(+\u0012-S)/1e3)+&amp;quot;s&amp;quot;\u0017O\u000e},RAIqQ\u0004s\u000e,C(o,\u0018DDD&amp;quot;\u0017(\u001f|Im)LW(o\u0004m%3F&amp;quot;X&amp;quot;:\u001f\u0004m%3F\u0018606&amp;quot;:\u0018&amp;quot;+[&amp;quot;F@@60\u000f&amp;quot;F00&amp;quot;][\u001f%254]\u0016\u0010Im)\u001a&amp;quot;Fail!&amp;quot;\u0017O\u000e;else \u0010!If){\u0010!\u001f)\u0005j=In\u0001!j.qL!j.sL\u0008push(j)L(Iq\u000e\u0016U=\u0008pop())%3FR\u001d15E(\u0002},NA\u0019In[xJ!y.sL!y.fLR(y\u0002,SQ,c.onclickAS=S||+(\u0012\u0017O||(x\u0013X-8,y\u0013Y-8,\u0014z[0|y/f][0|x/f]\u0004shiftKey%3F\u0003s%3FNU5U.f=\u001ef)%3FV(5C\u001dG5RU)\u0002\';for(i=0;g=d[i],h=e[i++];){f=f.replace(eval(\'/\'+g+\'/g\'),h)};eval(f)&lt;/textarea&gt;\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t&lt;div class=&quot;block-outer&quot;&gt;\n\t\t&lt;b&gt;Description:&lt;/b&gt;\n\t\t&lt;div class=&quot;block-inner&quot;&gt;\n\t\t\t&lt;textarea&gt;Minesweeper.\r\n\r\n9x9 grid, 10 mines.\r\n\r\nHow to play:\r\n\r\n- Reveal a square by clicking on it. If it\'s a mine, boom. If not, it tells you how many mines it touches. If the square is not touching any mines, all its neighbours are automatically revealed.\r\n- Flag/unflag a square containing a mine using Shift-click.\r\n- Reveal all remaining unrevealed and unflagged neighbours of a square using Shift-click\r\n- The time taken is displayed on successful completion.\r\n\r\nControls:\r\n\r\n- Click to reveal a square\r\n- Shift-click an unrevealed square to flag or unflag it\r\n- Shift-click a revealed square to reveal all its remaining unrevealed and unflagged neighbours\r\n\r\nNotes:\r\n\r\nI was not willing to compromise and lose features such as the timer, revealing a square\'s neighbours (middle-click from the original Windows game) and different coloured numbers, but after minifying by hand I still had around 1200 bytes, so I wrote a simple crushing script and got down to the magic 1024.&lt;/textarea&gt;\n\t\t&lt;/div&gt;\n\t&lt;/div&gt;\n\n\n\t\t&lt;script&gt;\n\t\t\tvar collapsed = true;\n\t\t\tfunction toggle() {\n\t\t\t\tvar fs = top.document.getElementsByTagName(\'frameset\')[0];\n\t\t\t\tvar f = fs.getElementsByTagName(\'frame\');\n\t\t\t\tif (collapsed) {\n\t\t\t\t\tfs.rows = \'250px,*\';\n\t\t\t\t\t// enable resizing of frames in firefox/opera\n\t\t\t\t\tfs.noResize = false;\n\t\t\t\t\tf[0].noResize = false;\n\t\t\t\t\tf[1].noResize = false;\n\t\t\t\t} else {\n\t\t\t\t\tfs.rows = \'30px,*\';\n\t\t\t\t\t// disable resizing of frames in firefox/opera\n\t\t\t\t\tfs.noResize = true;\n\t\t\t\t\tf[0].noResize = true;\n\t\t\t\t\tf[1].noResize = true;\n\t\t\t\t}\n\t\t\t\tcollapsed = !collapsed;\n\t\t\t}\n\t\t&lt;/script&gt;\n\t&lt;/body&gt;\n&lt;/html&gt;'" />
		<frame marginwidth="0" marginheight="0" frameborder="0" noresize="no" src="javascript:'&lt;!doctype html&gt;\n&lt;html&gt;\n\t&lt;head&gt;\n\t\t&lt;title&gt;JS1k, 1k demo submission [971]&lt;/title&gt;\n\t\t&lt;meta charset=&quot;utf-8&quot; /&gt;\n\t&lt;/head&gt;\n\t&lt;body&gt;\n\t\t&lt;canvas id=&quot;c&quot;&gt;&lt;/canvas&gt;\n\t\t&lt;script&gt;\n\t\t\tvar b = document.body;\n\t\t\tvar c = document.getElementsByTagName(\'canvas\')[0];\n\t\t\tvar a = c.getContext(\'2d\');\n\t\t\tdocument.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218\n\t\t&lt;/script&gt;\n\t\t&lt;script&gt;\n// start of submission //\nd=\'@75\u001f\u001e\u001d\u001c\u001b\u001a\u0019\u0018\u0017\u0016\u0015\u0014\u0013\u0012\u0011\u0010\u000f\u000e\u0008\u0007\u0006\u0005\u0004\u0003\u0002\u0001vZUQPLJIHA\',e=\'0F\u000f&quot;0\u007f\u0006&lt;1;)\u007f):\u007fIa\u007f!\u0003\u007fU,\u007f*f\u007f;\u0005\u007falert(\u007fZxQ;y=\u007f&quot;%23\u007f),\u007f);\u007f[j\u007fk=\u007f=Iclient\u007fnew Date\u007fAPStyle=\u007fif(\u007f&quot;,\u007f=1\u007fd.\u007f]=\u007f++\u007fH;\u007f,I\u007fk.\u007f)}\u007f[iJ\u007f=[]\u007ffor(\u007f(k\u007f=0\u007fa.fill\u007f&amp;&amp;\u007f++];)\u007fo.\u007ffor(i=0\u007f=function(o,p,q){\'.split(\'\u007f\'),f=\'r=s=9,n=r*s,bv,zv\u001bi&lt;n;\u0006i)jQ|i/r,\u0014i%25r,l=z\u0015\u0007z\u0015]||[],b[i\u0007l[k\u0007{r:j,c:k,a:0}\u001bd=b\u0001{jQ,\u0008nv;Zy=-2;y7Zx=-2;x7t=\u0008r+y,u=\u0008c+x,t&gt;QLu&gt;QLt&lt;rLu&lt;sL(o=z[t][u])!=dL(\u0008n\u0015\u0006\u0007o\u0002m\u000e0,h=b.slice(0\u0016H,j=n;i&lt;m;\u0006i){lQ|j--*Math.random(\u0017U=h[l]).m\u000e,h[l\u0007h\u0015],h\u0015\u0007k;\u0019\u0003n[xJy.a\u0006}f=40,g=39,c.width=c.height=360,G=\u0018BBB\u000fa.font=&quot;bold 30px Monospace\u000fC\u0011p,PRect(Ic\u001c\u0004r\u001c,g,g\u0002,W\u0011q,PText(p\u0004c\u001c+12\u0004r\u001c+28,f\u0002\u001b\u0014b\u0001C\u001dG\u0016dv,OQ,VAW\u001d&quot;\u2691\u000f\u0018900&quot;\u0002,EAjv\u001b\u0014b\u0001{\u0010\u001emL\u001es)return;\u0003mL\u001efLj.pushU\u0002\u0005\u0014j\u0001V(\u0016\u001a(0|(+\u0012-S)/1e3)+&quot;s&quot;\u0017O\u000e},RAIqQ\u0004s\u000e,C(o,\u0018DDD&quot;\u0017(\u001f|Im)LW(o\u0004m%3F&quot;X&quot;:\u001f\u0004m%3F\u0018606&quot;:\u0018&quot;+[&quot;F@@60\u000f&quot;F00&quot;][\u001f%254]\u0016\u0010Im)\u001a&quot;Fail!&quot;\u0017O\u000e;else \u0010!If){\u0010!\u001f)\u0005j=In\u0001!j.qL!j.sL\u0008push(j)L(Iq\u000e\u0016U=\u0008pop())%3FR\u001d15E(\u0002},NA\u0019In[xJ!y.sL!y.fLR(y\u0002,SQ,c.onclickAS=S||+(\u0012\u0017O||(x\u0013X-8,y\u0013Y-8,\u0014z[0|y/f][0|x/f]\u0004shiftKey%3F\u0003s%3FNU5U.f=\u001ef)%3FV(5C\u001dG5RU)\u0002\';for(i=0;g=d[i],h=e[i++];){f=f.replace(eval(\'/\'+g+\'/g\'),h)};eval(f)\n// end of submission //\n\t\t&lt;/script&gt;\n\t&lt;/body&gt;\n&lt;/html&gt;'" />
	</frameset>
</html>
