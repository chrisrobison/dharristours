<html>
   <head>
      <title>Inter@ctivate Development Website Administration</title>
      <script language="JavaScript">
         #refresh#
         function doSave() {
            frm = document.hosts;
	    cur = frm.exec.value;

	    if (cur != 'new') {
	       frm.exec.value = 'update';
	    }
	    setTimeout('document.forms[0].submit();', 150);
	 }
	 function doDelete() {
	    var OK = confirm("Are you sure you want to delete this\nentry from ALL web and dns servers?");
	    if (OK) {
	       document.forms[0].exec.value = 'delete';
	       setTimeout("document.forms[0].submit();", 150);
	       return true;
	    } else {
	       return false;
	    }
	 }   
         function doNew() {
            frm = document.hosts;
	    frm.exec.value = 'new';
	    frm.hostname.value = '';
	    frm.server_root.value = '';
	    frm.docroot.value = 'htdocs';
	    frm.cgidir.value = '';
	    frm.access_log.value = 'logs/HOSTNAME.access_log';
	    frm.error_log.value = 'logs/HOSTNAME.error_log';
	    frm.user.value = '#REMOTE_USER#';
	    frm.dns.checked = true;
	    frm.client_code.selectedIndex = 0;
	    frm.client_code.focus();
            
	    return true;
	 }

	 function updateLogs() {
            frm = document.hosts;
	    host = frm.hostname.value;
	    frm.access_log.value = 'logs/'+host+'.access_log';
	    frm.error_log.value = 'logs/'+host+'.error_log';
	    frm.server_root.value = "#USER_HOME#/projects/"+host;
            
	    return true;
	 }
	 function updateHostname(what) {
	    var frm = document.forms[0];
	    var tmphost = new String(what+'-'+frm.REMOTE_USER.value);
	    var host = tmphost.toLowerCase();
	    
	    frm.cvs.checked = true;
	    frm.hostname.value = host;
	    updateLogs();
            return true;
	 }   
      </script>
      <style type="text/css">
            BODY {
               font-size:10px;
               font-family:Arial,Helvetica,SansSerif;
               color:#000000;
            }
            .HEADER {
               font-size:12px;
	       font-weight:bold;
               font-family:Arial,Helvetica,SansSerif;
               color:#000000;
            }
            .FIELD {
               font-size:11px;
	       font-weight:bold;
               font-family:Arial,Helvetica,SansSerif;
               color:#000000;
            }
	    .BTN {
               font-size:11px;
               font-family:Arial,Helvetica,SansSerif;
               color:#000000;
	       border-style: groove;
	       width: 60px;
            }
	    .MAIN {
               font-size:11px;
               font-family:Arial,Helvetica,SansSerif;
               color:#000000;
            }
            .FIXED {
               font-size:9px;
               font-family:Courier New,Courier,LucidaConsole,Fixedsys;
               color:#000000;
            }
      </style>
   </head>
   <body bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#000099" alink="#ff0000" class="MAIN" onLoad="#alert#">
      <form name="hosts" action="index.cgi" method="POST">
         <input type="hidden" name="exec" value="">
         <input type="hidden" name="REMOTE_USER" value="#REMOTE_USER#">
	 <br>
         <center>
           <table border="1" cellpadding="4" cellspacing="1" bgcolor="#d0d0d0">
	      <tr>
	         <td colspan='2' bgcolor="#eeeeee"><!--<img src="/img/bulb-logo.gif" align='left'>--><span class='HEADER'>Interactivate Developer Sandbox Administration [#REMOTE_USER#]</span></td>
	      </tr>
	      <tr>
	         <td valign='top'>
		    <table border='0' cellpadding='3' cellspacing='1'>
		       <tr>
	                  <td align="right" class="MAIN"><span class='FIELD'>View:</span></td>
		          <td valign="top" colspan='2'>
		             <select name="view" onChange="document.hosts.exec.value='lookup'; setTimeout('document.hosts.submit();', 150);" class='MAIN'>
		                <option value='all'#view_all#>View all hosts</option>
				<option value='#REMOTE_USER#'#view_my#>Hosts for #REMOTE_USER#</option>
		             </select>
		          </td>
		       </tr>	  
		       <tr>
	                  <td valign="top" align="right" class="MAIN"><span class='FIELD'>Hosts:</span></td>
		          <td valign="top">
		             <select name="ID" size="15" onChange="document.hosts.submit();" class='MAIN'>
		                #hosts#
		             </select>
		          </td>
               	          <td valign="top">
			     <input type="button" value="   New   " onClick="doNew();" class='BTN'><br>
			     <input type='button' value=' Delete ' onClick="doDelete();" class='BTN'>
			  </td>   
		       </tr>
		    </table>
		 </td>
		 <td valign='top'>
		    <table border='0' cellpadding='3' cellspacing='1'>
		       <tr>
		          <td align="right" class="MAIN"><span class='FIELD'>Client:</span></td>
		          <td class="MAIN"><select name="client_code" onChange="updateHostname(this.options[this.selectedIndex].value);">#modules#</select></td>
                       </tr>
                       <tr>
		          <td> &nbsp; </td>
		          <td class="MAIN" align='left'><input type="checkbox" name="cvs" value="true"#cvs#><span class='MAIN'>Checkout CVS Sources</span>
			  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='MAIN'><input type="checkbox" name="dns" value="true"#dns#>Setup DNS</span></td>
                       </tr>
                       <tr>
		          <td align="right" class="MAIN"><span class='FIELD'>Host Name:</span></td>
		          <td class="MAIN"><input type="text" name="hostname" value="#hostname#" size="50" onChange="updateLogs();" class='MAIN'><!--&nbsp;&nbsp;&nbsp;<input type="checkbox" name="dns" value="true"#dns#>DNS--></td>
                       </tr>
	               <tr>
		          <td align="right" class="MAIN"><span class='FIELD'>Server Root:</span></td>
		          <td class="MAIN"><input type="text" name="server_root" value="#server_root#" size="50" class='MAIN'></td>
                       </tr>
	               <tr>
		          <td align="right" class="MAIN"><span class='FIELD'>Document Root:</span></td>
		          <td class="MAIN"><input type="text" name="docroot" value="#docroot#" size="50" class='MAIN'></td>
                       </tr>
                       <tr>
		          <td align="right" class="MAIN"><span class='FIELD'>CGI Directory [Optional]:</span></td>
		          <td class="MAIN"><input type="text" name="cgidir" value="#cgidir#" size="50" class='MAIN'></td>
                       </tr>
	               <tr>
		          <td align="right" class="MAIN"><span class='FIELD'>Access Log:</span></td>
		          <td class="MAIN"><input type="text" name="access_log" value="#access_log#" size="50" class='MAIN'></td>
                       </tr>
	               <tr>
		          <td align="right" class="MAIN"><span class='FIELD'>Error Log:</span></td>
		          <td class="MAIN"><input type="text" name="error_log" value="#error_log#" size="50" class='MAIN'></td>
                       </tr>
	               <tr>
		          <td align="right" class="MAIN"><span class='FIELD'>User:</span></td>
		          <td class="MAIN"><input type="text" name="user" value="#user#" size="20" class='MAIN'></td>
                       </tr>
	               <tr>
		          <td align="right" class="MAIN"><span class='FIELD'>Status:</span></td>
		          <td class="MAIN"><span class='MAIN'>#status#</span></td>
                       </tr>
	               <tr>
		          <td align="right" class="MAIN"><span class='FIELD'>Test URL:</span></td>
		          <td class="MAIN"><a href="http://#hostname#.interactivate.com/env.cgi" target='test'>http://#hostname#.interactivate.com/env.cgi</a></td>
                       </tr>
	               <tr>
		          <td align="right" colspan="2"><!--<input type="button" value=" New " onClick="doNew();" class='MAIN'>--><input type="button" value="Save" onClick="doSave();" class='BTN'>&nbsp;&nbsp;&nbsp;<!--<input type='button' value='Delete' onClick="doDelete();" class='MAIN'>--></td>
                       </tr>
                    </table>
		 </td>
	      </tr>
           </table>
	 </center>   
      </form>
   </body>
</html>

